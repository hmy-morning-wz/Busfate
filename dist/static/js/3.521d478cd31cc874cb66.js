webpackJsonp([3],{Kue5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Xxa5"),a=s.n(n),r=s("exGp"),i=s.n(r),u={count:"",data:function(){return{msg:"",authCode:"",userId:0,busTimes:0,volumeList:[]}},components:{},created:function(){var e=this;window.yl.call("getAuthcode",{},{onSuccess:function(t){e.authCode=t.param.authCode,e.getUserId(e.authCode)},onFail:function(e){}}),window.yl.call("setTransparentTitle",{transparentTitle:"auto"})},methods:{handlMyExchange:function(){if(this.userId){var e="/VolumeList?userId="+this.userId;this.$router.push(e)}},handleInExchange:function(e,t){this.userId&&this.getjudgeExchangeBusTime(e)},getfindVoucherLis:function(){var e=this;return i()(a.a.mark(function t(){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$parent.request({url:"benefitCenter/voucher/findVoucherListAndBusTimes?userId="+e.userId,method:"post"});case 2:s=t.sent,e.busTimes=s.data.busTimes,e.volumeList=s.data.voucherResponseList;case 5:case"end":return t.stop()}},t,e)}))()},getUserId:function(e){var t=this;return i()(a.a.mark(function s(){var n;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$parent.request({url:"benefitCenter/appUser/getAppUserByAuthCode/"+e,method:"get"});case 2:n=s.sent,localStorage.setItem("useId",n.data),t.userId=n.data,t.getfindVoucherLis();case 6:case"end":return s.stop()}},s,t)}))()},getjudgeExchangeBusTime:function(e){var t=this;return i()(a.a.mark(function s(){var n,r;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$parent.request({url:"benefitCenter/userVoucher/judgeExchangeBusTime?userId="+t.userId+"&voucherId="+e,method:"post"});case 2:"20000"===(n=s.sent).code?(r="/ImmediateUse?voucherId="+e,t.$router.push(r)):t.$messagebox.alert("",{title:"提示",message:n.sub_msg,showCancelButton:!1}).then(function(e){t.getfindVoucherLis()});case 4:case"end":return s.stop()}},s,t)}))()}},mounted:function(){}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"select-exchange"},[s("div",{staticClass:"bg"},[s("div",{staticClass:"count"},[e._v(e._s(e.busTimes))]),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"select-content"},[s("div",{staticClass:"select-exchange"},[e._v("精选兑换")]),e._v(" "),s("div",{staticClass:"my-select"},[s("div",{on:{click:e.handlMyExchange}},[e._v("我的兑换")]),e._v(" "),s("div")])]),e._v(" "),e._l(e.volumeList,function(t,n){return s("div",{key:n,staticClass:"volume-list"},[s("div",{staticClass:"content-left"},[s("div",{staticClass:"circle"},[s("img",{attrs:{src:t.logo}})]),e._v(" "),s("div",{staticClass:"volumet-detail"},[s("div",[e._v(e._s(t.name))]),e._v(" "),s("div",[e._v(e._s(t.needBusNumber)+"次即可兑换")])])]),e._v(" "),s("div",{staticClass:"content-right"},[s("div",{on:{click:function(s){e.handleInExchange(t.id,t.canExchangeFlag)}}},[e._v("立即兑换")]),e._v(" "),s("div",[e._v(e._s(t.provider))])])])})],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"exchange-number"},[t("div",[this._v("可兑换权益的乘车次数")])])}]};var o=s("VU/8")(u,c,!1,function(e){s("SJDU")},"data-v-f1ce8398",null);t.default=o.exports},SJDU:function(e,t){}});
//# sourceMappingURL=3.521d478cd31cc874cb66.js.map